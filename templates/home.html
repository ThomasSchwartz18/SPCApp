{% extends 'base.html' %}
{% block title %}SPCApp Home{% endblock %}
{% block content %}
  <div class="home-title">
    <img src="/static/images/image.png" alt="Spectra Tech Logo">
    <!-- <h1>HUB</h1> -->
  </div>
  <!-- <button onclick="location.href='{{ url_for('logout') }}'">Logout</button> -->
  {#
  <div class="job-previews">
    <h2>Floor Jobs Preview</h2>
    <div class="job-grid">
      {% for job in sample_jobs %}
        <div class="job-preview {{ job.highlight }}">
          <strong>{{ job.job }} â€“ due {{ job.due_date }} ({{ job.due_in }})</strong>
          <ul>
            {% for loc, count in job.locations %}
              <li>{{ loc }}....{{ count }}</li>
            {% endfor %}
            <li>Total: {{ job.total }}</li>
          </ul>
        </div>
      {% endfor %}
    </div>
  </div>
  #}
  <p>Select a section below:</p>

  {% if is_admin or permissions.get('analysis') or permissions.get('aoi') %}
  <h2>Analysis</h2>
  <div class="row g-3 mb-4">
    {% if is_admin or permissions.get('analysis') %}
    <div class="col-md-3">
      <div class="card widget-card text-center h-100" onclick="location.href='/analysis'" role="link" tabindex="0">
        <div class="card-body">
          <h5 class="card-title">Data Analysis</h5>
          <p class="card-text">Upload And Data Mine Reports From SPC</p>
        </div>
      </div>
    </div>
    {% endif %}
    {% if is_admin or permissions.get('aoi') %}
    <div class="col-md-3">
      <div class="card widget-card text-center h-100" onclick="location.href='/aoi'" role="link" tabindex="0">
        <div class="card-body">
          <h5 class="card-title">AOI Daily Report</h5>
          <p class="card-text">View and Upload AOI Reports With Data Insights.</p>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card widget-card text-center h-100" onclick="location.href='/final-inspect'" role="link" tabindex="0">
        <div class="card-body">
          <h5 class="card-title">Final Inspect Daily Report</h5>
          <p class="card-text">View and Upload Final Inspection Reports With Data Insights.</p>
        </div>
      </div>
    </div>
    {% endif %}
  </div>
  {% endif %}

  <h2>Tools</h2>
  <div class="row g-3 mb-4">
    <div class="col-md-3">
      <div class="card widget-card text-center h-100" onclick="location.href='/rework'" role="link" tabindex="0">
        <div class="card-body">
          <h5 class="card-title">Rework</h5>
          <p class="card-text">Stencil and part lookup tools</p>
        </div>
      </div>
    </div>
    {% if is_admin or permissions.get('part_markings') %}
    <div class="col-md-3">
      <div class="card widget-card text-center h-100" onclick="location.href='/part-markings'" role="link" tabindex="0">
        <div class="card-body">
          <h5 class="card-title">Verified Part Markings</h5>
          <p class="card-text">Lookup Part Numbers To Find Their Verified Part Markings</p>
        </div>
      </div>
    </div>
    {% endif %}
  </div>

  <h2>Production</h2>
  <div class="row g-3">
    {% if is_admin or permissions.get('dashboard') %}
    <div class="col-md-3">
      <div class="card widget-card text-center h-100" onclick="location.href='#'" role="link" tabindex="0">
        <div class="card-body">
          <h5 class="card-title">SPC Dashboard</h5>
          <p class="card-text">Statistical Controls (<i>in progress</i>)</p>
        </div>
      </div>
    </div>
    {% endif %}
    <div class="col-md-3">
      <div class="card widget-card text-center h-100" onclick="location.href='/jobs'" role="link" tabindex="0">
        <div class="card-body">
          <h5 class="card-title">Jobs</h5>
          <p class="card-text">Manage Floor Jobs (<i>in progress</i>)</p>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
