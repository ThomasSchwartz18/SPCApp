{% extends 'base.html' %}
{% import 'components/forms.html' as forms %}
{% block title %}Jobs Dashboard{% endblock %}
{% block content %}
  <a href="/">‚Üê Home</a>
  <h1>Jobs Dashboard</h1>

  <form id="add-form" class="needs-validation" novalidate>
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    {{ forms.text_input('name', 'New Job Name', required=True, id='name') }}
    {{ forms.button('Add Job') }}
  </form>

  <table id="jobs-table">
    <thead>
      <tr><th>ID</th><th>Name</th><th>Status</th><th>Location</th><th>Updated</th></tr>
    </thead>
    <tbody></tbody>
  </table>

  <form id="update-form" class="needs-validation" novalidate>
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    {{ forms.text_input('job_id', 'Job ID', type='number', required=True, id='job_id') }}
    {{ forms.select_input('status', 'Status', ['Waiting','In Progress','Blocked','Done'], id='status') }}
    {{ forms.text_input('location', 'Location', required=True, id='location') }}
    {{ forms.button('Update Job') }}
  </form>

  <script src="{{ url_for('static', filename='js/jobs.js') }}"></script>
{% endblock %}
